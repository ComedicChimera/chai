# TODO: add meta directives

@[extern, callconv("win64")]
def ExitProcess(code: u32) end

# Static Initialization
@extern
def __chai_init() end

# User's Main Function
@extern
def __chai_main() end

@entry
def _start()
    # TODO: handle argc and argv

    # TODO: other runtime shenanigans

    # global, static initialization
    __chai_init()

    # call to the user's main function
    __chai_main()

    # TODO: runtime cleanup

    # gracefully exit
    ExitProcess(0)
end